<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Create Your First Agent ‚Äî openrappter</title>
  <meta name="description" content="Build your first openrappter agent from scratch in 10 minutes. Step-by-step tutorial for Python and TypeScript.">
  <meta property="og:title" content="Create Your First Agent ‚Äî openrappter">
  <meta property="og:description" content="From zero to a working agent in 10 minutes. Works in Python or TypeScript.">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --green: #10b981;
      --green-bright: #34d399;
      --green-dark: #059669;
      --purple: #8b5cf6;
      --blue: #3b82f6;
      --orange: #f97316;
      --red: #ef4444;
      --bg: #000000;
      --bg-card: #0a0a0a;
      --bg-elevated: #141414;
      --bg-hover: #1a1a1a;
      --text: #ffffff;
      --text-secondary: #e5e5e5;
      --text-muted: #737373;
      --border: #262626;
      --border-light: #404040;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    /* Navbar */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      padding: 1rem 2rem;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: 800;
      color: var(--text);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .logo-badge {
      font-size: 0.65rem;
      padding: 0.2rem 0.5rem;
      background: var(--green);
      color: black;
      border-radius: 4px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .nav-links {
      display: flex;
      gap: 2rem;
      align-items: center;
    }

    .nav-links a {
      color: var(--text-muted);
      text-decoration: none;
      font-weight: 500;
      font-size: 0.9rem;
      transition: color 0.2s;
    }

    .nav-links a:hover { color: var(--text); }

    /* Hero */
    .hero {
      padding: 8rem 2rem 4rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 600px;
      height: 400px;
      background: radial-gradient(ellipse, rgba(16, 185, 129, 0.08) 0%, transparent 70%);
      pointer-events: none;
    }

    .hero h1 {
      font-size: 3rem;
      font-weight: 900;
      letter-spacing: -0.03em;
      line-height: 1.1;
      margin-bottom: 1rem;
    }

    .hero h1 .highlight {
      background: linear-gradient(135deg, var(--green), var(--green-bright));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero-subtitle {
      font-size: 1.15rem;
      color: var(--text-muted);
      max-width: 540px;
      margin: 0 auto 2rem;
    }

    /* Language Toggle */
    .lang-toggle {
      display: inline-flex;
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 4px;
      gap: 4px;
    }

    .lang-toggle button {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      font-weight: 600;
      padding: 0.5rem 1.5rem;
      border: none;
      border-radius: 7px;
      cursor: pointer;
      transition: all 0.25s;
      background: transparent;
      color: var(--text-muted);
    }

    .lang-toggle button.active {
      background: var(--green);
      color: black;
    }

    .lang-toggle button:not(.active):hover {
      color: var(--text);
      background: var(--bg-hover);
    }

    /* Main layout */
    .content-wrapper {
      display: flex;
      justify-content: center;
      gap: 3rem;
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 2rem 6rem;
      position: relative;
    }

    .main-content {
      max-width: 800px;
      width: 100%;
    }

    /* Progress indicator */
    .progress-nav {
      position: sticky;
      top: 6rem;
      width: 160px;
      flex-shrink: 0;
      align-self: flex-start;
      padding-top: 1rem;
    }

    .progress-nav ol {
      list-style: none;
      position: relative;
      padding-left: 0;
    }

    .progress-nav ol::before {
      content: '';
      position: absolute;
      left: 11px;
      top: 12px;
      bottom: 12px;
      width: 2px;
      background: var(--border);
      border-radius: 1px;
    }

    .progress-nav li {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.5rem 0;
    }

    .progress-nav li a {
      color: var(--text-muted);
      text-decoration: none;
      font-size: 0.8rem;
      font-weight: 500;
      transition: color 0.2s;
      white-space: nowrap;
    }

    .progress-nav li a:hover { color: var(--text); }

    .progress-dot {
      width: 24px;
      height: 24px;
      min-width: 24px;
      border-radius: 50%;
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.65rem;
      font-weight: 700;
      color: var(--text-muted);
      transition: all 0.3s;
      z-index: 1;
    }

    .progress-nav li.active .progress-dot {
      border-color: var(--green);
      background: var(--green);
      color: black;
    }

    .progress-nav li.active a {
      color: var(--green-bright);
    }

    /* Step sections */
    .step {
      margin-bottom: 4rem;
      scroll-margin-top: 6rem;
    }

    .step-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .step-number {
      width: 40px;
      height: 40px;
      min-width: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 1rem;
    }

    .step-number.green { background: rgba(16, 185, 129, 0.15); color: var(--green-bright); border: 2px solid rgba(16, 185, 129, 0.3); }
    .step-number.purple { background: rgba(139, 92, 246, 0.15); color: var(--purple); border: 2px solid rgba(139, 92, 246, 0.3); }
    .step-number.blue { background: rgba(59, 130, 246, 0.15); color: var(--blue); border: 2px solid rgba(59, 130, 246, 0.3); }
    .step-number.orange { background: rgba(249, 115, 22, 0.15); color: var(--orange); border: 2px solid rgba(249, 115, 22, 0.3); }

    .step-header h2 {
      font-size: 1.6rem;
      font-weight: 800;
      letter-spacing: -0.02em;
    }

    .step p, .step ul {
      color: var(--text-secondary);
      margin-bottom: 1rem;
      font-size: 0.95rem;
    }

    .step ul {
      padding-left: 1.5rem;
    }

    .step ul li {
      margin-bottom: 0.5rem;
    }

    .step ul li code {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.82rem;
      background: var(--bg-elevated);
      padding: 0.15rem 0.45rem;
      border-radius: 4px;
      color: var(--green-bright);
      border: 1px solid var(--border);
    }

    .step strong {
      color: var(--text);
    }

    /* Inline code */
    .main-content code:not(pre code) {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.82rem;
      background: var(--bg-elevated);
      padding: 0.15rem 0.45rem;
      border-radius: 4px;
      color: var(--green-bright);
      border: 1px solid var(--border);
    }

    /* Code blocks */
    .code-block {
      position: relative;
      margin: 1.25rem 0 1.5rem;
      border-radius: 12px;
      border: 1px solid var(--border);
      overflow: hidden;
      background: var(--bg-card);
    }

    .code-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.6rem 1rem;
      background: var(--bg-elevated);
      border-bottom: 1px solid var(--border);
    }

    .code-header-left {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .code-dots {
      display: flex;
      gap: 6px;
    }

    .code-dots span {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }

    .code-dots span:nth-child(1) { background: #ef4444; }
    .code-dots span:nth-child(2) { background: #f97316; }
    .code-dots span:nth-child(3) { background: #22c55e; }

    .code-filename {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .copy-btn {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.7rem;
      padding: 0.3rem 0.6rem;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 5px;
      color: var(--text-muted);
      cursor: pointer;
      transition: all 0.2s;
    }

    .copy-btn:hover {
      border-color: var(--green);
      color: var(--green-bright);
    }

    .copy-btn.copied {
      border-color: var(--green);
      color: var(--green);
    }

    .code-body {
      padding: 1.25rem;
      overflow-x: auto;
    }

    .code-body pre {
      margin: 0;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.82rem;
      line-height: 1.7;
      color: var(--text-secondary);
      white-space: pre;
      tab-size: 4;
    }

    /* CSS-only syntax highlighting */
    .code-body .kw { color: var(--purple); }
    .code-body .str { color: var(--green-bright); }
    .code-body .cm { color: #525252; font-style: italic; }
    .code-body .fn { color: var(--blue); }
    .code-body .tp { color: var(--orange); }
    .code-body .num { color: #f472b6; }
    .code-body .op { color: var(--text-muted); }
    .code-body .dec { color: var(--purple); font-style: italic; }

    /* Language visibility */
    .lang-python { display: block; }
    .lang-typescript { display: none; }

    body.show-typescript .lang-python { display: none; }
    body.show-typescript .lang-typescript { display: block; }

    /* Terminal mockup */
    .terminal {
      margin: 1.25rem 0 1.5rem;
      border-radius: 12px;
      border: 1px solid var(--border);
      overflow: hidden;
      background: var(--bg-card);
    }

    .terminal-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.6rem 1rem;
      background: var(--bg-elevated);
      border-bottom: 1px solid var(--border);
    }

    .terminal-body {
      padding: 1.25rem;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.82rem;
      line-height: 1.7;
      color: var(--text-secondary);
      overflow-x: auto;
    }

    .terminal-body .prompt { color: var(--green-bright); }
    .terminal-body .output { color: var(--text-muted); }
    .terminal-body .success { color: var(--green); }

    /* Info callouts */
    .callout {
      padding: 1rem 1.25rem;
      border-radius: 10px;
      margin: 1.25rem 0;
      font-size: 0.9rem;
      border: 1px solid;
    }

    .callout-green {
      background: rgba(16, 185, 129, 0.06);
      border-color: rgba(16, 185, 129, 0.2);
      color: var(--green-bright);
    }

    .callout-purple {
      background: rgba(139, 92, 246, 0.06);
      border-color: rgba(139, 92, 246, 0.2);
      color: #a78bfa;
    }

    .callout-blue {
      background: rgba(59, 130, 246, 0.06);
      border-color: rgba(59, 130, 246, 0.2);
      color: #60a5fa;
    }

    /* Next steps grid */
    .next-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-top: 1.25rem;
    }

    .next-card {
      padding: 1.25rem;
      border-radius: 10px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      text-decoration: none;
      transition: all 0.2s;
    }

    .next-card:hover {
      border-color: var(--border-light);
      background: var(--bg-elevated);
      transform: translateY(-2px);
    }

    .next-card-icon {
      font-size: 1.4rem;
      margin-bottom: 0.5rem;
    }

    .next-card h4 {
      color: var(--text);
      font-size: 0.95rem;
      font-weight: 700;
      margin-bottom: 0.3rem;
    }

    .next-card p {
      color: var(--text-muted);
      font-size: 0.82rem;
      margin: 0;
      line-height: 1.5;
    }

    /* Sticky toggle */
    .sticky-toggle {
      position: sticky;
      top: 4rem;
      z-index: 100;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(12px);
      padding: 0.75rem 0;
      margin-bottom: 2rem;
      border-bottom: 1px solid var(--border);
    }

    /* Divider */
    .step-divider {
      height: 1px;
      background: var(--border);
      margin: 3rem 0;
    }

    /* Responsive */
    @media (max-width: 900px) {
      .progress-nav { display: none; }
      .content-wrapper { padding: 0 1.25rem 4rem; }
      .main-content { max-width: 100%; }
    }

    @media (max-width: 640px) {
      .hero h1 { font-size: 2rem; }
      .hero-subtitle { font-size: 1rem; }
      .hero { padding: 7rem 1.25rem 2.5rem; }
      .step-header h2 { font-size: 1.3rem; }
      .next-grid { grid-template-columns: 1fr; }
      .nav-links { display: none; }
      .code-body pre { font-size: 0.75rem; }
    }
  </style>
</head>
<body>
  <!-- Nav -->
  <nav>
    <div class="nav-container">
      <a href="./" class="logo">
        ü¶ñ openrappter
        <span class="logo-badge">v1.4</span>
      </a>
      <div class="nav-links">
        <a href="./">Home</a>
        <a href="./docs.html">Docs</a>
        <a href="./architecture.html">Architecture</a>
        <a href="https://github.com/kody-w/openrappter">GitHub</a>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <section class="hero">
    <h1>Build your <span class="highlight">first agent</span></h1>
    <p class="hero-subtitle">From zero to a working agent in 10 minutes. Works in Python or TypeScript.</p>
    <div class="lang-toggle" id="heroToggle">
      <button class="active" data-lang="python">Python</button>
      <button data-lang="typescript">TypeScript</button>
    </div>
  </section>

  <!-- Content -->
  <div class="content-wrapper">
    <!-- Main -->
    <div class="main-content">

      <!-- Sticky language toggle -->
      <div class="sticky-toggle">
        <div class="lang-toggle" id="stickyToggle">
          <button class="active" data-lang="python">Python</button>
          <button data-lang="typescript">TypeScript</button>
        </div>
      </div>

      <!-- Step 1 -->
      <section class="step" id="step-1">
        <div class="step-header">
          <div class="step-number green">1</div>
          <h2>Understand the Contract</h2>
        </div>
        <p>Every openrappter agent follows a unified contract ‚Äî the same pattern works in both Python and TypeScript.</p>
        <ul>
          <li>Extend <code>BasicAgent</code> ‚Äî your agent inherits orchestration, context injection, and lifecycle hooks.</li>
          <li>Define <strong>metadata</strong> in OpenAI tools format: <code>name</code>, <code>description</code>, and <code>parameters</code>.</li>
          <li>Implement a <code>perform()</code> method ‚Äî this is where your logic lives.</li>
          <li>Return a <strong>JSON string</strong> with at least <code>{"status": "success"}</code> or <code>{"status": "error"}</code>.</li>
        </ul>
        <div class="callout callout-green">
          üí° <strong>Data sloshing</strong> ‚Äî before <code>perform()</code> is called, the orchestrator automatically enriches your agent with temporal awareness, memory echoes, query signals, and user preferences via <code>self.context</code> / <code>this.context</code>.
        </div>
      </section>

      <div class="step-divider"></div>

      <!-- Step 2 -->
      <section class="step" id="step-2">
        <div class="step-header">
          <div class="step-number purple">2</div>
          <h2>Create the File</h2>
        </div>
        <p>Agents are auto-discovered by file naming convention. Just drop a file in the right folder.</p>

        <div class="lang-python">
          <div class="code-block">
            <div class="code-header">
              <div class="code-header-left">
                <div class="code-dots"><span></span><span></span><span></span></div>
                <span class="code-filename">terminal</span>
              </div>
            </div>
            <div class="code-body">
<pre><span class="prompt">$</span> touch python/openrappter/agents/greeting_agent.py</pre>
            </div>
          </div>
          <div class="callout callout-purple">
            üìÅ Python agents must match the <code>*_agent.py</code> pattern in <code>python/openrappter/agents/</code>.
          </div>
        </div>

        <div class="lang-typescript">
          <div class="code-block">
            <div class="code-header">
              <div class="code-header-left">
                <div class="code-dots"><span></span><span></span><span></span></div>
                <span class="code-filename">terminal</span>
              </div>
            </div>
            <div class="code-body">
<pre><span class="prompt">$</span> touch typescript/src/agents/GreetingAgent.ts</pre>
            </div>
          </div>
          <div class="callout callout-purple">
            üìÅ TypeScript agents must match the <code>*Agent.ts</code> pattern in <code>typescript/src/agents/</code>.
          </div>
        </div>
      </section>

      <div class="step-divider"></div>

      <!-- Step 3 -->
      <section class="step" id="step-3">
        <div class="step-header">
          <div class="step-number blue">3</div>
          <h2>Write the Agent</h2>
        </div>
        <p>Here's a complete <strong>GreetingAgent</strong> that uses data sloshing to deliver time-aware greetings.</p>

        <!-- Python version -->
        <div class="lang-python">
          <div class="code-block">
            <div class="code-header">
              <div class="code-header-left">
                <div class="code-dots"><span></span><span></span><span></span></div>
                <span class="code-filename">greeting_agent.py</span>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
            <div class="code-body">
<pre><span class="kw">from</span> openrappter.agents.basic_agent <span class="kw">import</span> BasicAgent
<span class="kw">import</span> json

<span class="kw">class</span> <span class="tp">GreetingAgent</span>(<span class="tp">BasicAgent</span>):
    <span class="kw">def</span> <span class="fn">__init__</span>(<span class="tp">self</span>):
        <span class="tp">self</span>.name = <span class="str">'Greeting'</span>
        <span class="tp">self</span>.metadata = {
            <span class="str">"name"</span>: <span class="tp">self</span>.name,
            <span class="str">"description"</span>: <span class="str">"Greets the user based on time of day and context"</span>,
            <span class="str">"parameters"</span>: {
                <span class="str">"type"</span>: <span class="str">"object"</span>,
                <span class="str">"properties"</span>: {
                    <span class="str">"query"</span>: {<span class="str">"type"</span>: <span class="str">"string"</span>, <span class="str">"description"</span>: <span class="str">"User's greeting or name"</span>}
                },
                <span class="str">"required"</span>: []
            }
        }
        <span class="fn">super</span>().<span class="fn">__init__</span>(name=<span class="tp">self</span>.name, metadata=<span class="tp">self</span>.metadata)

    <span class="kw">def</span> <span class="fn">perform</span>(<span class="tp">self</span>, **kwargs):
        query = kwargs.<span class="fn">get</span>(<span class="str">'query'</span>, <span class="str">''</span>)
        time_of_day = <span class="tp">self</span>.<span class="fn">get_signal</span>(<span class="str">'temporal.time_of_day'</span>, <span class="str">'morning'</span>)

        greetings = {
            <span class="str">'early_morning'</span>: <span class="str">'Early bird! ‚òÄÔ∏è'</span>,
            <span class="str">'morning'</span>:       <span class="str">'Good morning! üåÖ'</span>,
            <span class="str">'afternoon'</span>:     <span class="str">'Good afternoon! üå§Ô∏è'</span>,
            <span class="str">'evening'</span>:       <span class="str">'Good evening! üåÜ'</span>,
            <span class="str">'night'</span>:         <span class="str">'Burning the midnight oil! üåô'</span>
        }

        greeting = greetings.<span class="fn">get</span>(time_of_day, <span class="str">'Hello!'</span>)
        name = query.<span class="fn">replace</span>(<span class="str">'hello'</span>, <span class="str">''</span>).<span class="fn">replace</span>(<span class="str">'hi'</span>, <span class="str">''</span>).<span class="fn">strip</span>() <span class="kw">or</span> <span class="str">'friend'</span>

        <span class="kw">return</span> json.<span class="fn">dumps</span>({
            <span class="str">"status"</span>: <span class="str">"success"</span>,
            <span class="str">"response"</span>: <span class="kw">f</span><span class="str">"{greeting} Nice to meet you, {name}!"</span>,
            <span class="str">"time_of_day"</span>: time_of_day
        })</pre>
            </div>
          </div>
        </div>

        <!-- TypeScript version -->
        <div class="lang-typescript">
          <div class="code-block">
            <div class="code-header">
              <div class="code-header-left">
                <div class="code-dots"><span></span><span></span><span></span></div>
                <span class="code-filename">GreetingAgent.ts</span>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
            <div class="code-body">
<pre><span class="kw">import</span> { BasicAgent } <span class="kw">from</span> <span class="str">'./BasicAgent.js'</span>;
<span class="kw">import type</span> { AgentMetadata } <span class="kw">from</span> <span class="str">'./types.js'</span>;

<span class="kw">export class</span> <span class="tp">GreetingAgent</span> <span class="kw">extends</span> <span class="tp">BasicAgent</span> {
  <span class="fn">constructor</span>() {
    <span class="kw">const</span> metadata: <span class="tp">AgentMetadata</span> = {
      name: <span class="str">'Greeting'</span>,
      description: <span class="str">'Greets the user based on time of day and context'</span>,
      parameters: {
        type: <span class="str">'object'</span>,
        properties: {
          query: { type: <span class="str">'string'</span>, description: <span class="str">"User's greeting or name"</span> }
        },
        required: []
      }
    };
    <span class="fn">super</span>(<span class="str">'Greeting'</span>, metadata);
  }

  <span class="kw">async</span> <span class="fn">perform</span>(kwargs: <span class="tp">Record</span>&lt;<span class="tp">string</span>, <span class="tp">unknown</span>&gt;): <span class="tp">Promise</span>&lt;<span class="tp">string</span>&gt; {
    <span class="kw">const</span> query = (kwargs.query <span class="kw">as</span> <span class="tp">string</span>) || <span class="str">''</span>;
    <span class="kw">const</span> timeOfDay = <span class="kw">this</span>.<span class="fn">getSignal</span>&lt;<span class="tp">string</span>&gt;(<span class="str">'temporal.time_of_day'</span>, <span class="str">'morning'</span>);

    <span class="kw">const</span> greetings: <span class="tp">Record</span>&lt;<span class="tp">string</span>, <span class="tp">string</span>&gt; = {
      early_morning: <span class="str">'Early bird! ‚òÄÔ∏è'</span>,
      morning: <span class="str">'Good morning! üåÖ'</span>,
      afternoon: <span class="str">'Good afternoon! üå§Ô∏è'</span>,
      evening: <span class="str">'Good evening! üåÜ'</span>,
      night: <span class="str">'Burning the midnight oil! üåô'</span>
    };

    <span class="kw">const</span> greeting = greetings[timeOfDay ?? <span class="str">'morning'</span>] ?? <span class="str">'Hello!'</span>;
    <span class="kw">const</span> name = query.<span class="fn">replace</span>(<span class="str">/hello|hi/gi</span>, <span class="str">''</span>).<span class="fn">trim</span>() || <span class="str">'friend'</span>;

    <span class="kw">return</span> <span class="tp">JSON</span>.<span class="fn">stringify</span>({
      status: <span class="str">'success'</span>,
      response: <span class="str">`${greeting} Nice to meet you, ${name}!`</span>,
      time_of_day: timeOfDay
    });
  }
}</pre>
            </div>
          </div>
        </div>
      </section>

      <div class="step-divider"></div>

      <!-- Step 4 -->
      <section class="step" id="step-4">
        <div class="step-header">
          <div class="step-number orange">4</div>
          <h2>Build &amp; Test</h2>
        </div>
        <p>Your agent is auto-discovered ‚Äî just verify it shows up, then run it.</p>

        <div class="lang-python">
          <div class="code-block">
            <div class="code-header">
              <div class="code-header-left">
                <div class="code-dots"><span></span><span></span><span></span></div>
                <span class="code-filename">verify &amp; run</span>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
            <div class="code-body">
<pre><span class="cm"># List all discovered agents</span>
<span class="prompt">$</span> python3 -m openrappter.cli --list-agents

<span class="cm"># Run your new agent</span>
<span class="prompt">$</span> openrappter --exec Greeting <span class="str">"hello Kody"</span></pre>
            </div>
          </div>
        </div>

        <div class="lang-typescript">
          <div class="code-block">
            <div class="code-header">
              <div class="code-header-left">
                <div class="code-dots"><span></span><span></span><span></span></div>
                <span class="code-filename">verify &amp; run</span>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
            <div class="code-body">
<pre><span class="cm"># Build first, then verify</span>
<span class="prompt">$</span> npm run build &amp;&amp; node dist/index.js --list-agents

<span class="cm"># Run your new agent</span>
<span class="prompt">$</span> node dist/index.js --exec Greeting <span class="str">"hello Kody"</span></pre>
            </div>
          </div>
        </div>

        <p>You should see output like this:</p>

        <div class="terminal">
          <div class="terminal-header">
            <div class="code-dots"><span></span><span></span><span></span></div>
            <span class="code-filename">output</span>
          </div>
          <div class="terminal-body">
<pre><span class="prompt">$</span> <span class="lang-python" style="display:inline">openrappter --exec Greeting "hello Kody"</span><span class="lang-typescript" style="display:none">node dist/index.js --exec Greeting "hello Kody"</span>
<span class="output">‚è≥ Executing agent: Greeting...</span>
<span class="output">üì¶ Data sloshing: injecting temporal + memory context</span>
<span class="success">‚úÖ Agent response:</span>
{
  <span class="str">"status"</span>: <span class="str">"success"</span>,
  <span class="str">"response"</span>: <span class="str">"Good morning! üåÖ Nice to meet you, Kody!"</span>,
  <span class="str">"time_of_day"</span>: <span class="str">"morning"</span>
}</pre>
          </div>
        </div>
      </section>

      <div class="step-divider"></div>

      <!-- Step 5 -->
      <section class="step" id="step-5">
        <div class="step-header">
          <div class="step-number green">5</div>
          <h2>Using Data Sloshing</h2>
        </div>
        <p>Data sloshing gives your agent rich context automatically. Use <code>get_signal()</code> to tap into it.</p>

        <div class="lang-python">
          <div class="code-block">
            <div class="code-header">
              <div class="code-header-left">
                <div class="code-dots"><span></span><span></span><span></span></div>
                <span class="code-filename">accessing signals</span>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
            <div class="code-body">
<pre><span class="kw">def</span> <span class="fn">perform</span>(<span class="tp">self</span>, **kwargs):
    <span class="cm"># Temporal awareness</span>
    time_of_day  = <span class="tp">self</span>.<span class="fn">get_signal</span>(<span class="str">'temporal.time_of_day'</span>, <span class="str">'morning'</span>)
    fiscal_period = <span class="tp">self</span>.<span class="fn">get_signal</span>(<span class="str">'temporal.fiscal_period'</span>)

    <span class="cm"># Confidence ‚Äî adjust detail level</span>
    confidence = <span class="tp">self</span>.<span class="fn">get_signal</span>(<span class="str">'orientation.confidence'</span>, <span class="str">'medium'</span>)
    <span class="kw">if</span> confidence == <span class="str">'low'</span>:
        <span class="cm"># Ask clarifying questions instead of guessing</span>
        <span class="kw">return</span> json.<span class="fn">dumps</span>({<span class="str">"status"</span>: <span class="str">"clarify"</span>, <span class="str">"message"</span>: <span class="str">"Could you be more specific?"</span>})

    <span class="cm"># Query signals ‚Äî is this a question?</span>
    is_question = <span class="tp">self</span>.<span class="fn">get_signal</span>(<span class="str">'query_signals.is_question'</span>, <span class="kw">False</span>)
    <span class="kw">if</span> is_question:
        <span class="cm"># Format as an answer</span>
        <span class="kw">return</span> json.<span class="fn">dumps</span>({<span class="str">"status"</span>: <span class="str">"success"</span>, <span class="str">"response"</span>: <span class="str">"Here's the answer..."</span>})

    <span class="cm"># Memory echoes ‚Äî recall past interactions</span>
    echoes = <span class="tp">self</span>.<span class="fn">get_signal</span>(<span class="str">'memory_echoes'</span>, [])
    <span class="kw">if</span> echoes:
        last = echoes[<span class="num">0</span>]
        <span class="cm"># Use previous context to personalize response</span></pre>
            </div>
          </div>
        </div>

        <div class="lang-typescript">
          <div class="code-block">
            <div class="code-header">
              <div class="code-header-left">
                <div class="code-dots"><span></span><span></span><span></span></div>
                <span class="code-filename">accessing signals</span>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
            <div class="code-body">
<pre><span class="kw">async</span> <span class="fn">perform</span>(kwargs: <span class="tp">Record</span>&lt;<span class="tp">string</span>, <span class="tp">unknown</span>&gt;): <span class="tp">Promise</span>&lt;<span class="tp">string</span>&gt; {
  <span class="cm">// Temporal awareness</span>
  <span class="kw">const</span> timeOfDay   = <span class="kw">this</span>.<span class="fn">getSignal</span>&lt;<span class="tp">string</span>&gt;(<span class="str">'temporal.time_of_day'</span>, <span class="str">'morning'</span>);
  <span class="kw">const</span> fiscalPeriod = <span class="kw">this</span>.<span class="fn">getSignal</span>&lt;<span class="tp">string</span>&gt;(<span class="str">'temporal.fiscal_period'</span>);

  <span class="cm">// Confidence ‚Äî adjust detail level</span>
  <span class="kw">const</span> confidence = <span class="kw">this</span>.<span class="fn">getSignal</span>&lt;<span class="tp">string</span>&gt;(<span class="str">'orientation.confidence'</span>, <span class="str">'medium'</span>);
  <span class="kw">if</span> (confidence === <span class="str">'low'</span>) {
    <span class="cm">// Ask clarifying questions instead of guessing</span>
    <span class="kw">return</span> <span class="tp">JSON</span>.<span class="fn">stringify</span>({ status: <span class="str">'clarify'</span>, message: <span class="str">'Could you be more specific?'</span> });
  }

  <span class="cm">// Query signals ‚Äî is this a question?</span>
  <span class="kw">const</span> isQuestion = <span class="kw">this</span>.<span class="fn">getSignal</span>&lt;<span class="tp">boolean</span>&gt;(<span class="str">'query_signals.is_question'</span>, <span class="kw">false</span>);
  <span class="kw">if</span> (isQuestion) {
    <span class="cm">// Format as an answer</span>
    <span class="kw">return</span> <span class="tp">JSON</span>.<span class="fn">stringify</span>({ status: <span class="str">'success'</span>, response: <span class="str">'Here\'s the answer...'</span> });
  }

  <span class="cm">// Memory echoes ‚Äî recall past interactions</span>
  <span class="kw">const</span> echoes = <span class="kw">this</span>.<span class="fn">getSignal</span>&lt;<span class="tp">any</span>[]&gt;(<span class="str">'memory_echoes'</span>, []);
  <span class="kw">if</span> (echoes.length) {
    <span class="kw">const</span> last = echoes[<span class="num">0</span>];
    <span class="cm">// Use previous context to personalize response</span>
  }</pre>
            </div>
          </div>
        </div>

        <div class="callout callout-blue">
          üì° <strong>All available signals:</strong> <code>temporal.*</code>, <code>memory_echoes</code>, <code>query_signals.*</code>, <code>behavioral_hints.*</code>, <code>orientation.*</code>, <code>upstream_slush.*</code> ‚Äî see the <a href="./architecture.html" style="color: var(--blue);">Architecture</a> page for the full reference.
        </div>

        <div class="callout callout-blue" style="margin-top: 1rem;">
          üßä <strong>Data Slush:</strong> Agents can return a <code>data_slush</code> dict in their output ‚Äî curated signals from live results. The framework extracts it to <code>last_data_slush</code> / <code>lastDataSlush</code>, which can be passed as <code>upstream_slush</code> to the next agent's <code>execute()</code>. This enables LLM-free agent-to-agent pipelines.
        </div>
      </section>

      <div class="step-divider"></div>

      <!-- Step 6 -->
      <section class="step" id="step-6">
        <div class="step-header">
          <div class="step-number purple">6</div>
          <h2>Next Steps</h2>
        </div>
        <p>Your agent is live ‚Äî here's where to go from here.</p>

        <div class="next-grid">
          <a class="next-card" href="./docs.html">
            <div class="next-card-icon">üîó</div>
            <h4>Add Keyword Matching</h4>
            <p>Register your agent in <code>cli.py</code> or <code>index.ts</code> so users can invoke it by natural language.</p>
          </a>
          <a class="next-card" href="./architecture.html">
            <div class="next-card-icon">üèóÔ∏è</div>
            <h4>Architecture Deep Dive</h4>
            <p>Understand the orchestrator, data sloshing pipeline, and agent lifecycle in detail.</p>
          </a>
          <a class="next-card" href="https://github.com/kody-w/openrappter">
            <div class="next-card-icon">üöÄ</div>
            <h4>Share on RappterHub</h4>
            <p>Publish your agent so others can install and use it. One command to share.</p>
          </a>
          <a class="next-card" href="./docs.html">
            <div class="next-card-icon">üìñ</div>
            <h4>API Reference</h4>
            <p>Full reference for <code>BasicAgent</code>, context signals, and the agent registry.</p>
          </a>
        </div>
      </section>

    </div>

    <!-- Progress indicator -->
    <nav class="progress-nav" id="progressNav">
      <ol>
        <li class="active" data-step="step-1">
          <span class="progress-dot">1</span>
          <a href="#step-1">Contract</a>
        </li>
        <li data-step="step-2">
          <span class="progress-dot">2</span>
          <a href="#step-2">Create File</a>
        </li>
        <li data-step="step-3">
          <span class="progress-dot">3</span>
          <a href="#step-3">Write Code</a>
        </li>
        <li data-step="step-4">
          <span class="progress-dot">4</span>
          <a href="#step-4">Build &amp; Test</a>
        </li>
        <li data-step="step-5">
          <span class="progress-dot">5</span>
          <a href="#step-5">Data Sloshing</a>
        </li>
        <li data-step="step-6">
          <span class="progress-dot">6</span>
          <a href="#step-6">Next Steps</a>
        </li>
      </ol>
    </nav>
  </div>

  <script>
    // Language toggle
    function setLanguage(lang) {
      document.body.classList.toggle('show-typescript', lang === 'typescript');
      document.querySelectorAll('.lang-toggle button').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
      });
      // Update terminal inline spans
      document.querySelectorAll('.terminal-body .lang-python').forEach(el => {
        el.style.display = lang === 'python' ? 'inline' : 'none';
      });
      document.querySelectorAll('.terminal-body .lang-typescript').forEach(el => {
        el.style.display = lang === 'typescript' ? 'inline' : 'none';
      });
    }

    document.querySelectorAll('.lang-toggle button').forEach(btn => {
      btn.addEventListener('click', () => setLanguage(btn.dataset.lang));
    });

    // Copy button
    function copyCode(btn) {
      const pre = btn.closest('.code-block').querySelector('pre');
      const text = pre.textContent;
      navigator.clipboard.writeText(text).then(() => {
        btn.textContent = 'copied!';
        btn.classList.add('copied');
        setTimeout(() => {
          btn.textContent = 'copy';
          btn.classList.remove('copied');
        }, 2000);
      });
    }

    // Progress indicator via IntersectionObserver
    const steps = document.querySelectorAll('.step');
    const progressItems = document.querySelectorAll('#progressNav li');

    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const id = entry.target.id;
          progressItems.forEach(li => {
            li.classList.toggle('active', li.dataset.step === id);
          });
        }
      });
    }, {
      rootMargin: '-20% 0px -60% 0px',
      threshold: 0
    });

    steps.forEach(step => observer.observe(step));
  </script>
</body>
</html>
